<GridLayout rows="auto, auto, *">

  <!-- Row 1: The custom action bar -->
  <GridLayout
    row="0"
    columns="44, *, 44"
    class="action-bar-custom">
    <Label
      col="1"
      text="Books"
      class="action-bar-label"></Label>

    <!-- Wrap the image in a StackLayout to give it a bigger tap target -->
    <StackLayout
      col="2"
      (tap)="showMenu()">
      <Image
        src="res://menu"
        stretch="none"
        class="action-bar-menu-image"></Image>
    </StackLayout>
  </GridLayout>

  <!-- Row: The main grocery list view -->
  <ListView
    row="1"
    [items]="bookList"
    class="main-grocery-list"
    [class.visible]="listLoaded"
    [visibility]="isShowingRecent ? 'collapse' : 'visible'">
    <template let-item="item">
      <StackLayout
        columns="auto, *, auto"
        class="list-container"
        [opacity]="item.done ? '0.8' : '1'">
          <StackLayout
            class="header-container"
            >
            <Label
              col="1"
              [text]="item.name"
              ></Label>
            <Button
                class="button"
                text="Voter"
             ></Button>
          </StackLayout>
          <StackLayout
            class="content-container"
            >
            <Image
              [src]="covers[item.id]"
              class="cover"
              stretch="aspectFill"
              ></Image>
            <Label
              [text]="item.desc"
              class="description"></Label>
          </StackLayout>
      </StackLayout>
    </template>
  </ListView>

  <ActivityIndicator
    [busy]="isLoading"
    row="2"
    horizontalAlignment="center"
    verticalAlignment="center"></ActivityIndicator>

</GridLayout>
